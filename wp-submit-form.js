// Generated by Grafana k6 Studio (1.5.0) on 2025-07-20T11:25:19.924Z

import { group, sleep, check } from "k6";
import http from "k6/http";
import execution from "k6/execution";

export const options = {

};

export default function () {
  let params;
  let resp;
  let url;
  const correlation_vars = {};

  group("Landing on a simple form", function () {
    params = {
      headers: {
        "Proxy-Connection": `keep-alive`,
        "Upgrade-Insecure-Requests": `1`,
        Accept: `text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7`,
        "Accept-Encoding": `gzip, deflate`,
        "Accept-Language": `en-GB,en-US;q=0.9,en;q=0.8`,
      },
      cookies: {},
    };

    url = http.url`http://ubuntu1.cat:30180/simple-form/`;
    resp = http.request("GET", url, null, params);

    check(resp, {"status equals 200": (r) => r.status === 200});
  });
  group("Submitting simple form", function () {
    params = {
      headers: {
        "Proxy-Connection": `keep-alive`,
        "X-Requested-With": `XMLHttpRequest`,
        Accept: `application/json, text/javascript, */*; q=0.01`,
        "Content-Type": `multipart/form-data; boundary=----WebKitFormBoundaryBzBiOLOAABeG7PBl`,
        Origin: `http://ubuntu1.cat:30180`,
        Referer: `http://ubuntu1.cat:30180/simple-form/`,
        "Accept-Encoding": `gzip, deflate`,
        "Accept-Language": `en-GB,en-US;q=0.9,en;q=0.8`,
      },
      cookies: {},
    };

    url = http.url`http://ubuntu1.cat:30180/wp-admin/admin-ajax.php`;
    resp = http.request(
      "POST",
      url,
      `------WebKitFormBoundaryBzBiOLOAABeG7PBl\r\nContent-Disposition: form-data; name="wpforms[fields][1][first]"\r\n\r\nMyname\r\n------WebKitFormBoundaryBzBiOLOAABeG7PBl\r\nContent-Disposition: form-data; name="wpforms[fields][1][last]"\r\n\r\nMysurname\r\n------WebKitFormBoundaryBzBiOLOAABeG7PBl\r\nContent-Disposition: form-data; name="wpforms[fields][5]"\r\n\r\n\r\n------WebKitFormBoundaryBzBiOLOAABeG7PBl\r\nContent-Disposition: form-data; name="wpforms[fields][2]"\r\n\r\nmyemail@myemail.com\r\n------WebKitFormBoundaryBzBiOLOAABeG7PBl\r\nContent-Disposition: form-data; name="wpforms[fields][4]"\r\n\r\n\r\n------WebKitFormBoundaryBzBiOLOAABeG7PBl\r\nContent-Disposition: form-data; name="wpforms[fields][3]"\r\n\r\nMy comment or my message\r\n------WebKitFormBoundaryBzBiOLOAABeG7PBl\r\nContent-Disposition: form-data; name="wpforms[id]"\r\n\r\n8\r\n------WebKitFormBoundaryBzBiOLOAABeG7PBl\r\nContent-Disposition: form-data; name="page_title"\r\n\r\nsimple-form\r\n------WebKitFormBoundaryBzBiOLOAABeG7PBl\r\nContent-Disposition: form-data; name="page_url"\r\n\r\nhttp://ubuntu1.cat:30180/simple-form/\r\n------WebKitFormBoundaryBzBiOLOAABeG7PBl\r\nContent-Disposition: form-data; name="url_referer"\r\n\r\n\r\n------WebKitFormBoundaryBzBiOLOAABeG7PBl\r\nContent-Disposition: form-data; name="page_id"\r\n\r\n10\r\n------WebKitFormBoundaryBzBiOLOAABeG7PBl\r\nContent-Disposition: form-data; name="wpforms[post_id]"\r\n\r\n10\r\n------WebKitFormBoundaryBzBiOLOAABeG7PBl\r\nContent-Disposition: form-data; name="wpforms[submit]"\r\n\r\nwpforms-submit\r\n------WebKitFormBoundaryBzBiOLOAABeG7PBl\r\nContent-Disposition: form-data; name="wpforms[token]"\r\n\r\n054f5adcbb5309f422d55e0bd244c68e\r\n------WebKitFormBoundaryBzBiOLOAABeG7PBl\r\nContent-Disposition: form-data; name="action"\r\n\r\nwpforms_submit\r\n------WebKitFormBoundaryBzBiOLOAABeG7PBl\r\nContent-Disposition: form-data; name="start_timestamp"\r\n\r\n1753010534\r\n------WebKitFormBoundaryBzBiOLOAABeG7PBl\r\nContent-Disposition: form-data; name="end_timestamp"\r\n\r\n1753010592\r\n------WebKitFormBoundaryBzBiOLOAABeG7PBl--\r\n`,
      params,
    );

    check(resp, { "status equals 200": (r) => r.status === 200 });
  });
  sleep(1);
}
